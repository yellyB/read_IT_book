378(355p) ~

### 다음을 제공해 줄 수 있는 HTTP 보안 기술 필요

- 서버 인증: 클라이언트는 진짜 서버와 이야기 하고 있단것 알 수 있어야함
- 클라이언트 인증: 서버는 진짜 사용자와 이야기 하고 있단것 알 수 있어야함
- 무결성: 클라와 서버는 그들의 데이터가 위조로부터 안전해야함
- 암호화: 클라와 서버는 도청 걱정 없어야함
- 효율: 저렴한 클라나 서버도 이용할 수 있도록 알고리즘 빨라야함
- 편재성: 프로토콜은 모든 클라와 서버에 지원해야함
- 관리상 확장성: 누구든 어디서든 즉각적인 보안 통신 할 수 있어야함
- 적응성: 최선의 보안 방법 지원해야함
- 사회적 생존성: 문화적, 정치적 요구 만족해야함

### HTTPS

- HTTP를 안전하게 만드는 방법 중 가장 인기
- HTTP의 하부에 전송 레벨 암호 보안 계충을 제공함으로써 동작
- 이 보안 계층은 안전 소켓 계층(Secure Sockets Layer, SSL) 혹은 전송 계층 보안(Transport Layer Security, TLS)을 이용하여 구현

### 디지털 암호학

- 암호: 텍스트를 아무나 읽지 못하도록 인코딩하는 알고리즘
- 키: 암호의 동작을 변경하는 숫자로 된 매개변수
- 대칭키 암호 체계: 인코딩과 디코딩에 같은 키를 사용하는 알고리즘
- 비대칭키 암호 체계: 인코딩과 디코딩 에 다른 키를 사용하는 알고리즘
- 공개키 암호법: 비밀 메시지를 전달하는 수백만 대의 컴퓨터를 쉽게 만들 수 있는 시스템
- 디지털 서명: 메시지가 위조 혹은 변조되지 않았음을 입증하는 체크섬
- 디지털 인증서: 신뢰할 만한 조직에 의해 서명되고 검증된 신원 확인 정보

### 대칭키 암호법

- 인코딩 암호 = 디코딩 암호
- 키가 유일한 비밀(알고리즘은 공개적이라서)
- 단점: 발송자와 수신자가 둘 다 공유키 가져야함

### 공개키 암호법

- 두 개의 비대칭 키(인코딩 용, 디코딩 용)
- 수신자 빼고는 디코딩 못함(디코딩 개인키는 수신자만 가지고 있기 때문)

### RSA

- 공개키 비대칭 암호의 과제는 개인키를 계산할 수 없어야한다는 것인데, 이걸 해결해주는게 RSA
- 공개키 암호 방식 알고리즘은 계산이 느림 ⇒ 대칭, 비대칭 섞은 방식 쓰(안전한 의사소통 수립 시엔 편하게 공개키, 이후엔 빠른 대칭키)

### 디지털서명

- 암호화 & 해독 뿐 아니라 누가 메시지 썼는지, 메시지 위조되지 않았는지도 증명
- 메시지에 붙어있는 암호 체크섬
- 서명은 메시지를 작성한 저자가 누군지 알려줌
- 서명은 메시지 위조를 방지. (공격자가 송신 중인 메시지를 수정했다면, 체크섬은 더 이상 그 메시지와 맞지 않게 될 것)

### 디지털 인증서

- 신뢰할 수 있는 기관으로부터 보증 받은 사용자나 회사에 대한 정보를 담고 있다.
- 담고있는 정보
  - 대상의 이름(사람, 서버, 조직 등)
  - 유효 기간
  - 인증서 발급자 (누가 이 인증서를 보증하는가)
  - 인증서 발급자의 디지털 서명
- 서버 인증서(아래꺼 말고도 필드 많음)
  - 웹 사이트의 이름과 호스트 명
  - 웹 사이트의 공개키
  - 서명 기관의 이름
  - 서명 기관의 서명

### HTTPS의 세부사항

- 그냥 보안 전송 계증을 통해 전송되는 HTTP
- ⇒ 암호화되지 않은 HTTP 메시지를 TCP를 통해 보내는 대신, TCP로 보내기 전 암호화하는 보안 계충으로 보냄
- HTTPS의 보안 계층은, SSL과 TLS로 구현(SSL과 TLS 모두를 의미하는 단어로 ‘SSL'을 사용)
- SSL 트래픽은 바이너리 프로토콜이라 HTTP와는 다른 포트 (SSL은 보통 443 포트)
- 보안 전송 셋업  
  : HTTP에서 클라이언트는 웹 서버 80번 포트로 TCP 커넥션 열고, 요청-응답 후 커넥션 닫음
- SSL 핸드셰이크에서 일어나는 일
  - 프로토콜 버전 번호 교환
  - 양쪽이 알고있는 암호 선택
  - 양쪽 신원 인증
  - 채널 암호화하기 위해 임시 세션 키 생성
- 서버 인증서
  - 클라이언트 인증서는 흔히 쓰이지 않지만
  - 서버 인증서 항상 요구
- 사이트 인증서 검사 알고리즘 수행 단계
  - 날짜
  - 서명자 신뢰도
  - 서명
  - 사이트 신원

### SSL 클라이언트 서버 오픈 소스 라이브러리

- OpenSSL

### 프락시를 통한 보안 트래픽 터널링

- 클라→서버로 보내는 데이터를 서버의 공개키로 암호화한다면 프락시는 HTTP헤더 읽을 수 없음  
  ⇒ 프락시는 요청을 어디로 보내야 하는지 알 수 없게 됨  
  ⇒ HTTPS SSL 터널링 프로토콜이 가장 인기있는 기법
